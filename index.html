<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snicklink Vibe Schwurbling</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <img src="images/snick_vibe_logo.png" alt="Snicklink Vibe Logo">
        </div>
        <nav>
            <a href="#spiele">Spiele</a>
            <a href="#vibecoding">Vibecoding</a>
            <a href="#magazin">Magazin</a>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-logo">
            <img src="images/snick_vibe_logo.png" alt="Snicklink Vibe Logo">
        </div>
        <h1>Vibecoding Walhalla</h1>
        <p>Meine aktuellsten Schwurbel-Games</p>
        <div class="featured-game" id="featuredGame">
            <!-- Featured game will be inserted here -->
        </div>
    </section>

    <section id="spiele">
        <div id="gamesGrid" class="game-grid">
            <!-- Games will be inserted here -->
        </div>
    </section>

    <section id="vibecoding" class="vibecoding">
        <h2 style="color: #55FF99;">Vibecoding: Kunst trifft Code</h2>
        <p>Vibecoding ist mein Herzschlag – ein Mix aus Technik, Satire und purer Kreativität. Als Künstler und Schwurbler erschaffe ich Spiele, die Spaß machen und die Welt ein bisschen aufmischen. Neugierig?</p>
        <a href="vibecoding.html" class="vibe-btn">Die ganze Story</a>
    </section>

    <aside id="magazin" class="ad-space">
        <h3>Die neue Willy</h3>
        <p class="ad-subtitle">Meta-Satire trifft Hyperwahnsinn!</p>
        <a href="https://snicklink.de" class="ad-link" target="_blank" rel="noopener noreferrer">
            <img src="images/willy7jpg.jpg" alt="Snicklink Vibe Magazin Link" class="ad-thumbnail-img">
        </a>
    </aside>

    <!-- Game Details Modal -->
    <div id="gameModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-body">
                <img id="modalImage" src="" alt="" class="modal-image">
                <div class="modal-text">
                    <h2 id="modalTitle"></h2>
                    <p id="modalDescription"></p>
                    <a id="modalPlayBtn" href="" class="play-btn modal-play-btn">Jetzt spielen</a>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>© 2025 Snicklink Vibe Schwurbling | <a href="#">Kontakt</a> | <a href="#">Datenschutz</a></p>
    </footer>

    <script>
        async function loadProjects() {
            try {
                const response = await fetch('projects.json');
                const projects = await response.json();
                renderProjects(projects);
            } catch (error) {
                console.error('Error loading projects:', error);
            }
        }

        function renderProjects(projects) {
            // Sort by order
            projects.sort((a, b) => a.order - b.order);
            
            // Find featured project
            const featured = projects.find(p => p.featured) || projects[0];
            
            // Render featured game
            document.getElementById('featuredGame').innerHTML = `
                <img src="${featured.image}" alt="${featured.title}" class="thumbnail">
                <h2 style="color: ${featured.color};">${featured.title} ${featured.new ? '<span class="new-tag">Neu</span>' : ''}</h2>
                <p>${featured.description}</p>
                <a href="${featured.url}" class="play-btn">Jetzt spielen</a>
            `;

            // Render all games
            document.getElementById('gamesGrid').innerHTML = projects.map((project, index) => `
                <div class="game">
                    <img src="${project.image}" alt="${project.title}" class="thumbnail">
                    <h3 style="color: ${project.color};">${project.title} ${project.new ? '<span class="new-tag">Neu</span>' : ''}</h3>
                    <p>${project.description}</p>
                    <div class="game-buttons">
                        <a href="${project.url}" class="play-btn">Jetzt spielen</a>
                        ${project.longDescription ? `<button class="more-btn" onclick="showGameDetails(${index})">Mehr</button>` : ''}
                    </div>
                </div>
            `).join('');
        }

        let currentProjects = [];

        function showGameDetails(index) {
            const project = currentProjects[index];
            document.getElementById('modalTitle').textContent = project.title;
            document.getElementById('modalImage').src = project.image;
            document.getElementById('modalImage').alt = project.title;
            document.getElementById('modalDescription').textContent = project.longDescription;
            document.getElementById('modalPlayBtn').href = project.url;
            document.getElementById('gameModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('gameModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('gameModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        function renderProjects(projects) {
            currentProjects = projects; // Store for modal access
            
            // Sort by order
            projects.sort((a, b) => a.order - b.order);
            
            // Find featured project
            const featured = projects.find(p => p.featured) || projects[0];
            
            // Render featured game
            document.getElementById('featuredGame').innerHTML = `
                <img src="${featured.image}" alt="${featured.title}" class="thumbnail">
                <h2 style="color: ${featured.color};">${featured.title} ${featured.new ? '<span class="new-tag">Neu</span>' : ''}</h2>
                <p>${featured.description}</p>
                <a href="${featured.url}" class="play-btn">Jetzt spielen</a>
            `;

            // Render all games
            document.getElementById('gamesGrid').innerHTML = projects.map((project, index) => `
                <div class="game">
                    <img src="${project.image}" alt="${project.title}" class="thumbnail">
                    <h3 style="color: ${project.color};">${project.title} ${project.new ? '<span class="new-tag">Neu</span>' : ''}</h3>
                    <p>${project.description}</p>
                    <div class="game-buttons">
                        <a href="${project.url}" class="play-btn">Jetzt spielen</a>
                        ${project.longDescription ? `<button class="more-btn" onclick="showGameDetails(${index})">Mehr</button>` : ''}
                    </div>
                </div>
            `).join('');
        }

        // Load projects when page loads
        loadProjects();
    </script>
</body>
</html>