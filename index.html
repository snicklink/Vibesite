<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Snicklink Vibe Schwurbling</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <img src="images/snick_vibe_logo.png" alt="Snicklink Vibe Logo">
        </div>
        <nav>
            <a href="#spiele">Spiele</a>
            <a href="#vibecoding">Vibecoding</a>
            <a href="#magazin">Magazin</a>
        </nav>
    </header>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-logo">
            <img src="images/snick_vibe_logo.png" alt="Snicklink Vibe Logo">
        </div>
        <h1>Vibecoding Walhalla</h1>
        <p>Meine aktuellsten Schwurbel-Games</p>
        <div class="featured-game">
            <img src="images/bratwurst.jpg" alt="Bratwurst Bomber" class="thumbnail">
            <h2 style="color: #D946EF;">Bratwurst Bomber <span class="new-tag">Neu</span></h2>
            <p>Schieß Würstchen auf Viren und Pfizer – rette die Galaxie vor der Corona-Psyop!</p>
            <a href="https://bratwurst.snicklink.de" class="play-btn">Jetzt spielen</a>
        </div>
    </section>

    <!-- Game Grid -->
    <section id="spiele" class="game-grid" id="projectsGrid">
        <!-- Projects will be loaded here -->
    </section>

    <!-- Vibecoding -->
    <section id="vibecoding" class="vibecoding">
        <h2 style="color: #55FF99;">Vibecoding: Kunst trifft Code</h2>
        <p>Vibecoding ist mein Herzschlag – ein Mix aus Technik, Satire und purer Kreativität. Als Künstler und Schwurbler erschaffe ich Spiele, die Spaß machen und die Welt ein bisschen aufmischen. Neugierig?</p>
        <a href="vibecoding.html" class="vibe-btn">Die ganze Story</a>
    </section>

    <!-- Ad Space -->
    <aside id="magazin" class="ad-space">
        <h3>Die neue Willy</h3>
        <p class="ad-subtitle">Meta-Satire trifft Hyperwahnsinn!</p>
        
        <a href="https://snicklink.de" class="ad-link" target="_blank" rel="noopener noreferrer">
            <img src="images/willy7jpg.jpg" alt="Snicklink Vibe Magazin Link" class="ad-thumbnail-img">
        </a>
    </aside>

    <!-- Footer -->
    <footer>
        <p>© 2025 Snicklink Vibe Schwurbling | <a href="#">Kontakt</a> | <a href="#">Datenschutz</a></p>
    </footer>

    <script>
        // Load projects from data.json
        async function loadProjects() {
            try {
                const response = await fetch('/data.json');
                const data = await response.json();
                const projects = data.projects || [];
                
                // Find featured project for hero section
                const featuredProject = projects.find(p => p.featured) || projects[0];
                if (featuredProject) {
                    updateHeroSection(featuredProject);
                }
                
                // Render all projects in grid
                renderProjectsGrid(projects);
                
            } catch (error) {
                console.error('Error loading projects:', error);
                // Fallback to existing hardcoded content if JSON fails
            }
        }

        function updateHeroSection(project) {
            const heroSection = document.querySelector('.featured-game');
            if (heroSection) {
                heroSection.innerHTML = `
                    <img src="${project.image}" alt="${project.title}" class="thumbnail">
                    <h2 style="color: ${project.color};">${project.title} ${project.new ? '<span class="new-tag">Neu</span>' : ''}</h2>
                    <p>${project.description}</p>
                    ${project.url ? `<a href="${project.url}" class="play-btn">Jetzt spielen</a>` : ''}
                `;
            }
        }

        function renderProjectsGrid(projects) {
            const grid = document.getElementById('projectsGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            projects.forEach(project => {
                const gameDiv = document.createElement('div');
                gameDiv.className = 'game';
                gameDiv.innerHTML = `
                    <img src="${project.image}" alt="${project.title}" class="thumbnail">
                    <h3 style="color: ${project.color};">${project.title} ${project.new ? '<span class="new-tag">Neu</span>' : ''}</h3>
                    <p>${project.description}</p>
                    ${project.url ? `<a href="${project.url}" class="play-btn">Jetzt spielen</a>` : ''}
                `;
                grid.appendChild(gameDiv);
            });
        }

        // Load projects when page loads
        document.addEventListener('DOMContentLoaded', loadProjects);
    </script>
</body>
</html>